<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultado</title>
    <link rel="stylesheet" href="resultado.css">
</head>
<body>
    <div id="formContainer" class="form-container"></div>
        <!-- El contenido generado se insertará aquí -->
    </div>
    
    <!-- <script src="simplex.js"></script> -->
    <!-- <script src="ingresoValores.js"></script> -->
    <script>
        window.onload = function() {
    
            // Obtener los datos de localStorage
            let newMatrix = JSON.parse(localStorage.getItem('newMatrix'));
            let demanda = JSON.parse(localStorage.getItem('demanda'));
            let oferta = JSON.parse(localStorage.getItem('oferta'));
    
            // Unir oferta con newMatrix como la última columna
            newMatrix.forEach((fila, index) => {
                fila.push(oferta[index] !== undefined ? oferta[index] : 0);  // Agregar oferta o 0 si no hay
            });
    
            // Crear la última fila con los valores de demanda más una celda vacía al final
            let demandaRow = [...demanda, 0];  // Agregar 0 al final como celda vacía para la oferta
    
            // Definir el contenedor donde se insertará la tabla
            var formContainer = document.getElementById('formContainer');
    
            // Crear la tabla
            let table = document.createElement('table');
            table.setAttribute('border', '1');
            let tbody = document.createElement('tbody');
    
            // Crear la fila de encabezado
            let headerRow = document.createElement('tr');
            let emptyCell = document.createElement('th');
            emptyCell.textContent = ''; // Célula vacía en la esquina superior izquierda
            headerRow.appendChild(emptyCell);
    
            // Agregar encabezados de columna para W1, W2, ..., más oferta al final
            for (let i = 0; i < newMatrix[0].length - 1; i++) {
                let th = document.createElement('th');
                th.textContent = `W${i + 1}`; // W1, W2, W3, ...
                headerRow.appendChild(th);
            }
    
            // Agregar el encabezado para la columna de oferta
            let ofertaHeader = document.createElement('th');
            ofertaHeader.textContent = 'Oferta';
            headerRow.appendChild(ofertaHeader);
            tbody.appendChild(headerRow);
    
            // Crear las filas de la matriz con la oferta como última columna
            for (let i = 0; i < newMatrix.length; i++) {
                let row = document.createElement('tr');
    
                // Crear la primera célula con el índice F1, F2, ...
                let th = document.createElement('th');
                th.textContent = `F${i + 1}`; 
                row.appendChild(th);
    
                // Añadir los valores de la fila
                newMatrix[i].forEach(value => {
                    let td = document.createElement('td');
                    td.textContent = value;
                    row.appendChild(td);
                });
    
                tbody.appendChild(row);
            }
    
            // Crear la última fila para demanda
            let demandaRowElement = document.createElement('tr');
            let demandaTh = document.createElement('th');
            demandaTh.textContent = 'Demanda'; // Etiqueta de la última fila
            demandaRowElement.appendChild(demandaTh);
    
            // Añadir los valores de la demanda más una celda vacía al final
            demandaRow.forEach(value => {
                let td = document.createElement('td');
                td.textContent = value;
                demandaRowElement.appendChild(td);
            });
    
            tbody.appendChild(demandaRowElement);
    
            // Añadir el tbody a la tabla y la tabla al documento
            table.appendChild(tbody);
            formContainer.appendChild(table);
    
            // Crear un contenedor para los botones
            var buttonContainer = document.createElement('div');
            buttonContainer.className = 'button-container'; // Agregar clase para estilos
    
            // Crear el botón "Continuar"
            var continueButton = document.createElement('button');
            continueButton.type = 'button';
            let bandera = +localStorage.getItem("bandera");
            let nSol = +localStorage.getItem("cantidadSoluciones");
    
            if (bandera == 0 || nSol) {
                continueButton.onclick = function() {
                    inicio(1); 
                };
            } else {
                continueButton.onclick = null; 
                continueButton.disabled = true;
            }
            continueButton.textContent = 'Continuar';
            buttonContainer.appendChild(continueButton);
    
            // Crear el botón "Volver al inicio"
            var backButton = document.createElement('button');
            backButton.type = 'button';
            backButton.onclick = function() { window.location.href = "main.html"; };
            backButton.textContent = 'Volver al inicio';
            buttonContainer.appendChild(backButton);
    
            // Añadir el contenedor de botones al formContainer
            formContainer.appendChild(buttonContainer);
        };
    </script>
    
    
</body>
</html>